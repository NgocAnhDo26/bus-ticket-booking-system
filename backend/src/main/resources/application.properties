spring.application.name=ticketbooking
spring.profiles.active=${PROFILE:local}

# Database Configuration - uses environment variables with defaults for local development
# Render provides DATABASE_URL (postgresql:// format) or separate DATABASE_HOST, DATABASE_PORT, etc.
# If DATABASE_URL is provided, it should be in jdbc:postgresql:// format
# Otherwise, we construct from separate variables
spring.datasource.url=${DATABASE_URL:jdbc:postgresql://localhost:5432/ticket_booking?stringtype=unspecified}
spring.datasource.username=${DATABASE_USER:postgres}
spring.datasource.password=${DATABASE_PASSWORD:busticketpwd}
spring.datasource.driver-class-name=org.postgresql.Driver

spring.jpa.hibernate.ddl-auto=validate
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.jdbc.time_zone=UTC
spring.jpa.properties.hibernate.types.print.banner=false

spring.flyway.enabled=true
spring.flyway.baseline-on-migrate=true
spring.flyway.out-of-order=true
spring.flyway.locations=classpath:db/migration,classpath:db/migration-local

# Redis Configuration - uses environment variables with defaults for local development
spring.data.redis.host=${REDIS_HOST:localhost}
spring.data.redis.port=${REDIS_PORT:6379}
spring.data.redis.username=${REDIS_USERNAME:}
spring.data.redis.password=${REDIS_PASSWORD:}
spring.data.redis.ssl.enabled=${REDIS_SSL_ENABLED:false}

# Server Port - Render sets PORT environment variable
server.port=${PORT:8081}

# JWT Configuration
jwt.secret=${JWT_SECRET}
jwt.access-token-expiration-minutes=30
jwt.refresh-token-expiration-days=7

# Google OAuth Configuration
google.client-id=${GOOGLE_CLIENT_ID}

# CORS Configuration - configure allowed origins via environment variable
app.cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://localhost:5173,http://127.0.0.1:5173}

# Email Configuration (Gmail SMTP)
spring.mail.host=${MAIL_HOST:smtp.gmail.com}
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=${MAIL_USERNAME}
spring.mail.password=${MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
app.mail.from-name=SwiftRide

# PayOS Payment Gateway Configuration
payos.client-id=${PAYOS_CLIENT_ID}
payos.api-key=${PAYOS_API_KEY}
payos.checksum-key=${PAYOS_CHECKSUM_KEY}

# AI Configuration
gemini.api-key=${GEMINI_API_KEY}

# Cloudinary Configuration
cloudinary.cloud-name=${CLOUDINARY_CLOUD_NAME}
cloudinary.api-key=${CLOUDINARY_API_KEY}
cloudinary.api-secret=${CLOUDINARY_API_SECRET}
cloudinary.secure=true

# Batch upload limits
cloudinary.max-batch-size-mb=50
cloudinary.max-batch-files=20